<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.15">
  <compounddef id="db/dd8/generate__chado__schema__file_8php" kind="file" language="PHP">
    <compoundname>generate_chado_schema_file.php</compoundname>
      <sectiondef kind="var">
      <memberdef kind="variable" id="db/dd8/generate__chado__schema__file_8php_1a61eded163d962fc248b3cf209000979b" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$arguments</definition>
        <argsstring></argsstring>
        <name>$arguments</name>
        <initializer>= getopt(&quot;v:&quot;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tripal_chado/api/generate_chado_schema_file.php" line="41" column="1" bodyfile="tripal_chado/api/generate_chado_schema_file.php" bodystart="41" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>This script will generate the schema file for the Tripal API for an installation of Chado. To use the script you must install the version of Chado desired using Tripal. Next install and enable the &apos;schema&apos; module from the Drupal module respository. Finally, add a new &apos;chado&apos; entry in the $databases variable of the settings.php file. For example:</para><para><programlisting><codeline><highlight class="normal">&apos;chado&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/>&apos;default&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&apos;database&apos;<sp/>=&gt;<sp/>&apos;d7x_t2x_c13&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&apos;username&apos;<sp/>=&gt;<sp/>&apos;chado&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&apos;password&apos;<sp/>=&gt;<sp/>&apos;testing123&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&apos;host&apos;<sp/>=&gt;<sp/>&apos;localhost&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&apos;port&apos;<sp/>=&gt;<sp/>&apos;&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&apos;driver&apos;<sp/>=&gt;<sp/>&apos;pgsql&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>&apos;prefix&apos;<sp/>=&gt;<sp/>&apos;&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/>),</highlight></codeline>
</programlisting></para><para>This script requires a single argument (-v) which is the Chado version. Redirect output into a new file as desired.</para><para>Example usage in drupal directory root:</para><para>php ./sites/all/modules/tripal/tripal_core/api/generate_chado_schema_file.php -v 1.11 &gt; \ ./sites/all/modules/tripal/tripal_core/api/tripal_core.schema_v1.11.api.inc.new</para><para>php ./sites/all/modules/tripal/tripal_core/api/generate_chado_schema_file.php -v 1.2 &gt; \ ./sites/all/modules/tripal/tripal_core/api/tripal_core.schema_v1.2.api.inc.new</para><para>php ./sites/all/modules/tripal/tripal_core/api/generate_chado_schema_file.php -v 1.3 &gt; \ ./sites/all/modules/tripal/tripal_core/api/tripal_core.schema_v1.3.api.inc.new </para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal">&lt;?php</highlight></codeline>
<codeline lineno="41" refid="db/dd8/generate__chado__schema__file_8php_1a61eded163d962fc248b3cf209000979b" refkind="member"><highlight class="normal"><ref refid="db/dd8/generate__chado__schema__file_8php_1a61eded163d962fc248b3cf209000979b" kindref="member">$arguments</ref><sp/>=<sp/>getopt(</highlight><highlight class="stringliteral">&quot;v:&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(isset(<ref refid="db/dd8/generate__chado__schema__file_8php_1a61eded163d962fc248b3cf209000979b" kindref="member">$arguments</ref>[</highlight><highlight class="charliteral">&apos;v&apos;</highlight><highlight class="normal">]))<sp/>{</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/>$drupal_base_url<sp/>=<sp/>parse_url(</highlight><highlight class="stringliteral">&apos;http://www.example.com&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/>$_SERVER[</highlight><highlight class="stringliteral">&apos;HTTP_HOST&apos;</highlight><highlight class="normal">]<sp/>=<sp/>$drupal_base_url[</highlight><highlight class="stringliteral">&apos;host&apos;</highlight><highlight class="normal">];</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/>$_SERVER[</highlight><highlight class="stringliteral">&apos;REQUEST_URI&apos;</highlight><highlight class="normal">]<sp/>=<sp/>$_SERVER[</highlight><highlight class="stringliteral">&apos;SCRIPT_NAME&apos;</highlight><highlight class="normal">]<sp/>=<sp/>$_SERVER[</highlight><highlight class="stringliteral">&apos;PHP_SELF&apos;</highlight><highlight class="normal">];</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/>$_SERVER[</highlight><highlight class="stringliteral">&apos;REMOTE_ADDR&apos;</highlight><highlight class="normal">]<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/>$_SERVER[</highlight><highlight class="stringliteral">&apos;REQUEST_METHOD&apos;</highlight><highlight class="normal">]<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/>define(</highlight><highlight class="stringliteral">&apos;DRUPAL_ROOT&apos;</highlight><highlight class="normal">,<sp/>getcwd());</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/>require_once<sp/>DRUPAL_ROOT<sp/>.<sp/></highlight><highlight class="stringliteral">&apos;/includes/bootstrap.inc&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/>drupal_bootstrap(DRUPAL_BOOTSTRAP_FULL);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/>$version<sp/>=<sp/><ref refid="db/dd8/generate__chado__schema__file_8php_1a61eded163d962fc248b3cf209000979b" kindref="member">$arguments</ref>[</highlight><highlight class="charliteral">&apos;v&apos;</highlight><highlight class="normal">];</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/>$safe_version<sp/>=<sp/>preg_replace(</highlight><highlight class="stringliteral">&apos;/\./&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="charliteral">&apos;_&apos;</highlight><highlight class="normal">,<sp/>$version);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/>print(</highlight><highlight class="stringliteral">&quot;&lt;?php<sp/>\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;/**\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@file\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>Describes<sp/>the<sp/>chado<sp/>tables<sp/>in<sp/>version<sp/>$version\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*/\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;/**\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@defgroup<sp/>tripal_schema_v&quot;</highlight><highlight class="normal"><sp/>.<sp/>$safe_version<sp/>.<sp/></highlight><highlight class="stringliteral">&quot;_api<sp/>Chado<sp/>v&quot;</highlight><highlight class="normal"><sp/>.<sp/>$version<sp/>.<sp/></highlight><highlight class="stringliteral">&quot;<sp/>Schema<sp/>API\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@ingroup<sp/>tripal_chado_schema_api\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@{\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>Provides<sp/>an<sp/>application<sp/>programming<sp/>interface<sp/>(API)<sp/>for<sp/>describing<sp/>Chado\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>tables.<sp/>This<sp/>API<sp/>consists<sp/>of<sp/>a<sp/>set<sp/>of<sp/>functions,<sp/>one<sp/>for<sp/>each<sp/>table<sp/>in<sp/>Chado.\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>Each<sp/>function<sp/>simply<sp/>returns<sp/>a<sp/>Drupal<sp/>style<sp/>array<sp/>that<sp/>defines<sp/>the<sp/>table.\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>Because<sp/>Drupal<sp/>does<sp/>not<sp/>handle<sp/>foreign<sp/>key<sp/>(FK)<sp/>relationships,<sp/>which<sp/>are\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>needed<sp/>to<sp/>for<sp/>Tripal<sp/>Views,<sp/>they<sp/>have<sp/>been<sp/>added<sp/>to<sp/>the<sp/>schema<sp/>defintitions\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>below.\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>The<sp/>functions<sp/>provided<sp/>in<sp/>this<sp/>documentation<sp/>should<sp/>not<sp/>be<sp/>called<sp/>as<sp/>is,\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>but<sp/>if<sp/>you<sp/>need<sp/>the<sp/>Drupal-style<sp/>array<sp/>definition<sp/>for<sp/>any<sp/>table,<sp/>use<sp/>the\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>following<sp/>function<sp/>call:\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/><sp/><sp/>\$table_desc<sp/>=<sp/>chado_get_schema(\$table)\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>where<sp/>the<sp/>variable<sp/>\$table<sp/>contains<sp/>the<sp/>name<sp/>of<sp/>the<sp/>table<sp/>you<sp/>want<sp/>to\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>retireve.<sp/><sp/>The<sp/>chado_get_schema<sp/>function<sp/>determines<sp/>the<sp/>appropriate<sp/>version\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>of<sp/>Chado<sp/>and<sp/>uses<sp/>the<sp/>Drupal<sp/>hook<sp/>infrastructure<sp/>to<sp/>call<sp/>the<sp/>appropriate\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>hook<sp/>function<sp/>to<sp/>retrieve<sp/>the<sp/>table<sp/>schema.\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>If<sp/>you<sp/>need<sp/>to<sp/>augment<sp/>these<sp/>schema<sp/>definitions<sp/>within<sp/>your<sp/>own<sp/>module,\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>you<sp/>need<sp/>to<sp/>implement<sp/>the<sp/>hook_chado_schema_v&quot;</highlight><highlight class="normal"><sp/>.<sp/>$safe_version<sp/>.<sp/></highlight><highlight class="stringliteral">&quot;_[table<sp/>name]()<sp/>hook<sp/>where\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>[table<sp/>name]<sp/>is<sp/>the<sp/>name<sp/>of<sp/>the<sp/>chado<sp/>table<sp/>whose<sp/>schema<sp/>definition<sp/>you\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>want<sp/>to<sp/>augment.\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@}\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*/\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>SQL<sp/>for<sp/>retreiving<sp/>details<sp/>about<sp/>a<sp/>table.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/>$fksql<sp/>=</highlight><highlight class="stringliteral">&quot;</highlight></codeline>
<codeline lineno="97"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>SELECT</highlight></codeline>
<codeline lineno="98"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tc.constraint_name,<sp/>tc.table_name,<sp/>kcu.column_name,</highlight></codeline>
<codeline lineno="99"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ccu.table_name<sp/>AS<sp/>foreign_table_name,</highlight></codeline>
<codeline lineno="100"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ccu.column_name<sp/>AS<sp/>foreign_column_name</highlight></codeline>
<codeline lineno="101"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>FROM</highlight></codeline>
<codeline lineno="102"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>information_schema.table_constraints<sp/>AS<sp/>tc</highlight></codeline>
<codeline lineno="103"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>JOIN<sp/>information_schema.key_column_usage<sp/>AS<sp/>kcu<sp/>ON<sp/>tc.constraint_name<sp/>=<sp/>kcu.constraint_name</highlight></codeline>
<codeline lineno="104"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>JOIN<sp/>information_schema.constraint_column_usage<sp/>AS<sp/>ccu<sp/>ON<sp/>ccu.constraint_name<sp/>=<sp/>tc.constraint_name</highlight></codeline>
<codeline lineno="105"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>WHERE<sp/>constraint_type<sp/>=<sp/>&apos;FOREIGN<sp/>KEY&apos;<sp/>AND<sp/>tc.table_name=:table_name</highlight></codeline>
<codeline lineno="106"><highlight class="stringliteral"><sp/><sp/>&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Iterate<sp/>through<sp/>the<sp/>tables<sp/>of<sp/>Chado<sp/>and<sp/>use<sp/>the<sp/>Schema<sp/>module<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>generate<sp/>a<sp/>schema<sp/>array<sp/>for<sp/>each<sp/>table.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/>$sql<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;</highlight></codeline>
<codeline lineno="111"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>SELECT<sp/>table_name</highlight></codeline>
<codeline lineno="112"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>FROM<sp/>information_schema.tables</highlight></codeline>
<codeline lineno="113"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>WHERE</highlight></codeline>
<codeline lineno="114"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>table_schema<sp/>=<sp/>&apos;chado&apos;<sp/>AND</highlight></codeline>
<codeline lineno="115"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>table_type<sp/>=<sp/>&apos;BASE<sp/>TABLE&apos;<sp/>AND</highlight></codeline>
<codeline lineno="116"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>table_name<sp/>NOT<sp/>like<sp/>&apos;tripal%&apos;</highlight></codeline>
<codeline lineno="117"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>ORDER<sp/>BY<sp/>table_name</highlight></codeline>
<codeline lineno="118"><highlight class="stringliteral"><sp/><sp/>&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/>$result<sp/>=<sp/>db_query($sql);</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/>$table_schemas<sp/>=<sp/>array();</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/>$referring<sp/>=<sp/>array();</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref><sp/>=<sp/>$result-&gt;fetchField())<sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>schema<sp/>for<sp/>each<sp/>table.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>$schema<sp/>=<sp/>schema_dbobject(</highlight><highlight class="stringliteral">&apos;chado&apos;</highlight><highlight class="normal">)-&gt;inspect(NULL,<sp/><ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref>);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>$schema<sp/>=<sp/>$schema[<ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref>];</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>foreign<sp/>keys<sp/>and<sp/>add<sp/>them<sp/>to<sp/>the<sp/>array.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>$fks<sp/>=<sp/>db_query($fksql,<sp/>array(</highlight><highlight class="stringliteral">&apos;:table_name&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/><ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref>));</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>$schema[</highlight><highlight class="stringliteral">&apos;foreign<sp/>keys&apos;</highlight><highlight class="normal">]<sp/>=<sp/>array();</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>($fks<sp/>as<sp/>$fk)<sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$schema[</highlight><highlight class="stringliteral">&apos;foreign<sp/>keys&apos;</highlight><highlight class="normal">][$fk-&gt;foreign_table_name][</highlight><highlight class="stringliteral">&apos;table&apos;</highlight><highlight class="normal">]<sp/>=<sp/>$fk-&gt;foreign_table_name;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$schema[</highlight><highlight class="stringliteral">&apos;foreign<sp/>keys&apos;</highlight><highlight class="normal">][$fk-&gt;foreign_table_name][</highlight><highlight class="stringliteral">&apos;columns&apos;</highlight><highlight class="normal">][$fk-&gt;column_name]<sp/>=<sp/>$fk-&gt;foreign_column_name;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$reffering[$fk-&gt;foreign_table_name][]<sp/>=<sp/><ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref>;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>a<sp/>table<sp/>and<sp/>description<sp/>key<sp/>to<sp/>the<sp/>top.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>$schema<sp/>=<sp/>array(</highlight><highlight class="stringliteral">&apos;table&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/><ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref>)<sp/>+<sp/>$schema;</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>$schema<sp/>=<sp/>array(</highlight><highlight class="stringliteral">&apos;description&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)<sp/>+<sp/>$schema;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Fix<sp/>the<sp/>datetime<sp/>fields<sp/>and<sp/>add<sp/>a<sp/>description<sp/>field.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>($schema[</highlight><highlight class="stringliteral">&apos;fields&apos;</highlight><highlight class="normal">]<sp/>as<sp/>$fname<sp/>=&gt;<sp/>$details)<sp/>{</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($schema[</highlight><highlight class="stringliteral">&apos;fields&apos;</highlight><highlight class="normal">][$fname][</highlight><highlight class="stringliteral">&apos;type&apos;</highlight><highlight class="normal">]<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;timestamp<sp/>without<sp/>time<sp/>zone&quot;</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$schema[</highlight><highlight class="stringliteral">&apos;fields&apos;</highlight><highlight class="normal">][$fname][</highlight><highlight class="stringliteral">&apos;type&apos;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;datetime&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$schema[</highlight><highlight class="stringliteral">&apos;fields&apos;</highlight><highlight class="normal">][$fname][</highlight><highlight class="stringliteral">&apos;description&apos;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Remove<sp/>the<sp/>&apos;name&apos;<sp/>key.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>unset($schema[</highlight><highlight class="stringliteral">&apos;name&apos;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/>$table_schemas[<ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref>]<sp/>=<sp/>$schema;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Now<sp/>iterate<sp/>through<sp/>the<sp/>tables<sp/>now<sp/>that<sp/>we<sp/>have<sp/>all<sp/>the<sp/>referring<sp/>info</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>and<sp/>generate<sp/>the<sp/>function<sp/>strings.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>($table_schemas<sp/>as<sp/><ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref><sp/>=&gt;<sp/>$schema)<sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>$schema[</highlight><highlight class="stringliteral">&apos;referring_tables&apos;</highlight><highlight class="normal">]<sp/>=<sp/>array();</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(count($reffering[<ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref>])<sp/>&gt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$schema[</highlight><highlight class="stringliteral">&apos;referring_tables&apos;</highlight><highlight class="normal">]<sp/>=<sp/>array_unique($reffering[<ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref>]);</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Reformat<sp/>the<sp/>array<sp/>to<sp/>be<sp/>more<sp/>legible.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>$arr<sp/>=<sp/>var_export($schema,<sp/>1);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Move<sp/>array(<sp/>to<sp/>previous<sp/>line.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>$arr<sp/>=<sp/>preg_replace(</highlight><highlight class="stringliteral">&quot;/\n\s+array/&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;array&quot;</highlight><highlight class="normal">,<sp/>$arr);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>indentation.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>$arr<sp/>=<sp/>preg_replace(</highlight><highlight class="stringliteral">&quot;/\n/&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;\n<sp/><sp/>&quot;</highlight><highlight class="normal">,<sp/>$arr);</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>$arr<sp/>=<sp/>preg_replace(</highlight><highlight class="stringliteral">&quot;/true/&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;TRUE&quot;</highlight><highlight class="normal">,<sp/>$arr);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>$arr<sp/>=<sp/>preg_replace(</highlight><highlight class="stringliteral">&quot;/false/&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;FALSE&quot;</highlight><highlight class="normal">,<sp/>$arr);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>$arr<sp/>=<sp/>preg_replace(</highlight><highlight class="stringliteral">&quot;/array<sp/>\(/&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;array(&quot;</highlight><highlight class="normal">,<sp/>$arr);</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>print<sp/>(</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;/**\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>Implements<sp/>hook_chado_schema_v&quot;</highlight><highlight class="normal"><sp/>.<sp/>$safe_version<sp/>.<sp/></highlight><highlight class="stringliteral">&quot;_&quot;</highlight><highlight class="normal"><sp/>.<sp/><ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref><sp/>.<sp/></highlight><highlight class="stringliteral">&quot;()\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>Purpose:<sp/>To<sp/>describe<sp/>the<sp/>structure<sp/>of<sp/>&apos;$table&apos;<sp/>to<sp/>tripal\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@see<sp/>chado_insert_record()\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@see<sp/>chado_update_record()\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@see<sp/>chado_select_record()\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@see<sp/>chado_generate_var()\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@see<sp/>chado_expan_var()\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@return\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/><sp/><sp/><sp/>An<sp/>array<sp/>describing<sp/>the<sp/>&apos;$table&apos;<sp/>table\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@ingroup<sp/>tripal_chado_v&quot;</highlight><highlight class="normal"><sp/>.<sp/>$version<sp/>.<sp/></highlight><highlight class="stringliteral">&quot;_schema_api\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*/\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;function<sp/>tripal_core_chado_schema_v&quot;</highlight><highlight class="normal"><sp/>.<sp/>$safe_version<sp/>.<sp/></highlight><highlight class="stringliteral">&quot;_&quot;</highlight><highlight class="normal"><sp/>.<sp/><ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref><sp/>.<sp/></highlight><highlight class="stringliteral">&quot;()<sp/>{\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>\$description<sp/>=<sp/>$arr;<sp/>\n<sp/>&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>return<sp/>\$description;\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;}\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Finally<sp/>add<sp/>the<sp/>tables<sp/>function<sp/>for<sp/>this<sp/>version.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/>$table_list<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>($table_schemas<sp/>as<sp/><ref refid="de/d3f/tripal__bulk__loader__base_8tpl_8php_1aaa4465d9cb3f23c8fc7902e11c65437c" kindref="member">$table</ref><sp/>=&gt;<sp/>$schema)<sp/>{</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>$table_list<sp/>.=<sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/><sp/><sp/>&apos;$table&apos;,\n&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/>print<sp/>(</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;/**\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>Lists<sp/>the<sp/>table<sp/>names<sp/>in<sp/>the<sp/>v&quot;</highlight><highlight class="normal"><sp/>.<sp/>$version<sp/>.<sp/></highlight><highlight class="stringliteral">&quot;<sp/>chado<sp/>schema\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@return\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/><sp/><sp/><sp/>An<sp/>array<sp/>containing<sp/>all<sp/>of<sp/>the<sp/>table<sp/>names\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*<sp/>@ingroup<sp/>tripal_chado_v&quot;</highlight><highlight class="normal"><sp/>.<sp/>$version<sp/>.<sp/></highlight><highlight class="stringliteral">&quot;_schema_api\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>*/\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;function<sp/>tripal_core_chado_get_v&quot;</highlight><highlight class="normal"><sp/>.<sp/>$safe_version<sp/>.<sp/></highlight><highlight class="stringliteral">&quot;_tables()<sp/>{\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>\$tables<sp/>=<sp/>array(\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;$table_list&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>);\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/><sp/>return<sp/>\$tables;\n&quot;</highlight><highlight class="normal"><sp/>.</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;}\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline lineno="219"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="tripal_chado/api/generate_chado_schema_file.php"/>
  </compounddef>
</doxygen>

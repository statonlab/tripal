<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.15">
  <compounddef id="db/d94/tripal__chado_8semweb_8api_8inc" kind="file" language="PHP">
    <compoundname>tripal_chado.semweb.api.inc</compoundname>
      <sectiondef kind="func">
      <memberdef kind="function" id="dd/dc9/group__tripal__chado__semweb__api_1ga0ac94bd34b4d54f22d1c03263f7165a2" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>chado_add_semweb_table</definition>
        <argsstring>($chado_table)</argsstring>
        <name>chado_add_semweb_table</name>
        <param>
          <declname>$chado_table</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Adds a new Chado table to the semantic web support for Chado.</para><para>Newly added tables (i.e. custom tables) need to be integrated into the semantic web infrastructure. After a new table is created and added to the Chado schema, this function should be called to indicate that the table should be included in the semantic web. No associations are made for the columns. The associations should be added using the <ref refid="dd/dc9/group__tripal__chado__semweb__api_1ga98dd8b3c407bcfde6944d889be7b9edf" kindref="member">chado_associate_semweb_term()</ref> function.</para><para>If the table has already been added previously then this function does nothing. It will not overwrite existing assocations.</para><para>Temporary tables (e.g. Tripal tables that begin with &apos;tripal_&apos; and end with &apos;_temp&apos;, are not supported.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>$chado_table</parametername>
</parameternamelist>
<parameterdescription>
<para>The name of the Chado table. </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tripal_chado/api/tripal_chado.semweb.api.inc" line="38" column="1" bodyfile="tripal_chado/api/tripal_chado.semweb.api.inc" bodystart="38" bodyend="65"/>
      </memberdef>
      <memberdef kind="function" id="dd/dc9/group__tripal__chado__semweb__api_1ga98dd8b3c407bcfde6944d889be7b9edf" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>chado_associate_semweb_term</definition>
        <argsstring>($chado_table, $chado_column, $term, $update=FALSE)</argsstring>
        <name>chado_associate_semweb_term</name>
        <param>
          <declname>$chado_table</declname>
        </param>
        <param>
          <declname>$chado_column</declname>
        </param>
        <param>
          <declname>$term</declname>
        </param>
        <param>
          <declname>$update</declname>
          <defval>FALSE</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Associates a controlled vocabulary term with a field in a Chado table.</para><para>For sharing of data via the semantic web we need to associate a term from a controlled vocabulary with every column of every table in Chado.</para><para>Temporary tables (e.g. Tripal tables that begin with &apos;tripal_&apos; and end with &apos;_temp&apos;, are not supported.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>$chado_table</parametername>
</parameternamelist>
<parameterdescription>
<para>The name of the table in Chado. This argument is optional. If left empty or set to NULL then all fields in all Chado tables with that have the $column_name will be associated with the provided $term. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>$chado_column</parametername>
</parameternamelist>
<parameterdescription>
<para>The column name in the Chado table to which the term should be associated. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>$term</parametername>
</parameternamelist>
<parameterdescription>
<para>A cvterm object as returned by <ref refid="dd/d88/group__tripal__chado__variables__api_1ga6d6af1f6e23e5bbfae0d7867ce09af5a" kindref="member">chado_generate_var()</ref>. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>$update</parametername>
</parameternamelist>
<parameterdescription>
<para>Set to TRUE if the association should be updated to use the new term if a term is already associated with the table and column. Default is FALSE. If not TRUE and a term is already associated, then no change occurs.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>boolean Returns TRUE if the association was made successfully and FALSE otherwise. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tripal_chado/api/tripal_chado.semweb.api.inc" line="95" column="1" bodyfile="tripal_chado/api/tripal_chado.semweb.api.inc" bodystart="95" bodyend="179"/>
      </memberdef>
      <memberdef kind="function" id="dd/dc9/group__tripal__chado__semweb__api_1gab89580d008861a41f7d92d7f8b29b59d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>chado_format_semweb_term</definition>
        <argsstring>($cvterm)</argsstring>
        <name>chado_format_semweb_term</name>
        <param>
          <declname>$cvterm</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Formats a controlled vocabulary term from Chado for use with Tripal.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>$cvterm</parametername>
</parameternamelist>
<parameterdescription>
<para>A cvterm object. </para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The semantic web name for the term. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tripal_chado/api/tripal_chado.semweb.api.inc" line="228" column="1" bodyfile="tripal_chado/api/tripal_chado.semweb.api.inc" bodystart="228" bodyend="233"/>
      </memberdef>
      <memberdef kind="function" id="dd/dc9/group__tripal__chado__semweb__api_1ga246f04672ee7b1ec746971395c83a963" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>chado_get_semweb_column</definition>
        <argsstring>($chado_table, $term)</argsstring>
        <name>chado_get_semweb_column</name>
        <param>
          <declname>$chado_table</declname>
        </param>
        <param>
          <declname>$term</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Retreive the column name in a Chado table that matches a given term.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>$chado_table</parametername>
</parameternamelist>
<parameterdescription>
<para>The name of the Chado table. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>$term</parametername>
</parameternamelist>
<parameterdescription>
<para>The term. This can be a term name or a unique identifer of the form {db}:{accession} or of the form {db}__{term_name}.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The name of the Chado column that matches the given term or FALSE if the term is not mapped to the Chado table. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tripal_chado/api/tripal_chado.semweb.api.inc" line="249" column="1" bodyfile="tripal_chado/api/tripal_chado.semweb.api.inc" bodystart="249" bodyend="285"/>
      </memberdef>
      <memberdef kind="function" id="dd/dc9/group__tripal__chado__semweb__api_1gae4d00bef6ae53acb91c2c021eef279a9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>chado_get_semweb_term</definition>
        <argsstring>($chado_table, $chado_column, $options=array())</argsstring>
        <name>chado_get_semweb_term</name>
        <param>
          <declname>$chado_table</declname>
        </param>
        <param>
          <declname>$chado_column</declname>
        </param>
        <param>
          <declname>$options</declname>
          <defval>array()</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Retrieves the term that maps to the given Chado table and field.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>$chado_table</parametername>
</parameternamelist>
<parameterdescription>
<para>The name of the Chado table. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>$chado_column</parametername>
</parameternamelist>
<parameterdescription>
<para>The name of the Chado field. </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>$options</parametername>
</parameternamelist>
<parameterdescription>
<para>An associative array of one or more of the following keys: -return_object: Set to TRUE to return the cvterm object rather than the string version of the term.</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Returns a string-based representation of the term (e.g. SO:0000704). If the &apos;return_object&apos; options is provided then a cvterm object is returned. returns NULL if no term is mapped to the table and column. </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="tripal_chado/api/tripal_chado.semweb.api.inc" line="200" column="1" bodyfile="tripal_chado/api/tripal_chado.semweb.api.inc" bodystart="200" bodyend="216"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>Provides an application programming interface (API) for semantic web support. </para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal">&lt;?php</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="38" refid="dd/dc9/group__tripal__chado__semweb__api_1ga0ac94bd34b4d54f22d1c03263f7165a2" refkind="member"><highlight class="keyword">function</highlight><highlight class="normal"><sp/><ref refid="dd/dc9/group__tripal__chado__semweb__api_1ga0ac94bd34b4d54f22d1c03263f7165a2" kindref="member">chado_add_semweb_table</ref>($chado_table)<sp/>{</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Don&apos;t<sp/>include<sp/>the<sp/>tripal<sp/>temp<sp/>tables.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(preg_match(</highlight><highlight class="stringliteral">&apos;/tripal_.+_temp/&apos;</highlight><highlight class="normal">,<sp/>$chado_table))<sp/>{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>the<sp/>table&apos;s<sp/>schema<sp/>and<sp/>add<sp/>all<sp/>of<sp/>it&apos;s<sp/>fields<sp/>if<sp/>they<sp/>aren&apos;t</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>already<sp/>there.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/>$schema<sp/>=<sp/><ref refid="d4/d51/group__tripal__chado__schema__api_1ga4b5ac309e4f88af0e2454099336ac1d8" kindref="member">chado_get_schema</ref>($chado_table);</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>($schema[</highlight><highlight class="stringliteral">&apos;fields&apos;</highlight><highlight class="normal">]<sp/>as<sp/>$chado_column<sp/>=&gt;<sp/>$details)<sp/>{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>record<sp/>already<sp/>exists<sp/>don&apos;t<sp/>overwrite<sp/>it.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d5/d5b/tripal__library__base_8tpl_8php_1acbcb6dcb11c8755d5ffab0b45aac7a22" kindref="member">$record</ref><sp/>=<sp/>db_select(</highlight><highlight class="stringliteral">&apos;chado_semweb&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;CS&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>-&gt;fields(</highlight><highlight class="stringliteral">&apos;CS&apos;</highlight><highlight class="normal">,<sp/>array(</highlight><highlight class="stringliteral">&apos;chado_semweb_id&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>-&gt;condition(</highlight><highlight class="stringliteral">&apos;CS.chado_table&apos;</highlight><highlight class="normal">,<sp/>$chado_table)</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>-&gt;condition(</highlight><highlight class="stringliteral">&apos;CS.chado_column&apos;</highlight><highlight class="normal">,<sp/>$chado_column)</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>-&gt;execute()</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>-&gt;fetchField();</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="d5/d5b/tripal__library__base_8tpl_8php_1acbcb6dcb11c8755d5ffab0b45aac7a22" kindref="member">$record</ref>)<sp/>{</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d5/d5b/tripal__library__base_8tpl_8php_1acbcb6dcb11c8755d5ffab0b45aac7a22" kindref="member">$record</ref><sp/>=<sp/>array(</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;chado_table&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>$chado_table,</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;chado_column&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>$chado_column,</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>drupal_write_record(</highlight><highlight class="stringliteral">&apos;chado_semweb&apos;</highlight><highlight class="normal">,<sp/><ref refid="d5/d5b/tripal__library__base_8tpl_8php_1acbcb6dcb11c8755d5ffab0b45aac7a22" kindref="member">$record</ref>);</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="65"><highlight class="normal">}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="95" refid="dd/dc9/group__tripal__chado__semweb__api_1ga98dd8b3c407bcfde6944d889be7b9edf" refkind="member"><highlight class="keyword">function</highlight><highlight class="normal"><sp/><ref refid="dd/dc9/group__tripal__chado__semweb__api_1ga98dd8b3c407bcfde6944d889be7b9edf" kindref="member">chado_associate_semweb_term</ref>($chado_table,<sp/>$chado_column,<sp/>$term,</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>$update<sp/>=<sp/>FALSE)<sp/>{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>for<sp/>required<sp/>arguments.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!$chado_column)<sp/>{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/dae/group__tripal__notify__api_1ga8c4c41c79200e1d3c8145386f12eaa4e" kindref="member">tripal_set_message</ref>(</highlight><highlight class="stringliteral">&apos;Please<sp/>provide<sp/>the<sp/>$chado_column<sp/>argument.&apos;</highlight><highlight class="normal">,<sp/><ref refid="dd/d45/tripal_8notice_8api_8inc_1a4b04c4b1ce52da710d57abf5c4b09dd3" kindref="member">TRIPAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!$term)<sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/dae/group__tripal__notify__api_1ga8c4c41c79200e1d3c8145386f12eaa4e" kindref="member">tripal_set_message</ref>(</highlight><highlight class="stringliteral">&apos;Please<sp/>provide<sp/>the<sp/>$term<sp/>argument.&apos;</highlight><highlight class="normal">,<sp/><ref refid="dd/d45/tripal_8notice_8api_8inc_1a4b04c4b1ce52da710d57abf5c4b09dd3" kindref="member">TRIPAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Make<sp/>sure<sp/>the<sp/>field<sp/>is<sp/>a<sp/>real<sp/>field<sp/>for<sp/>the<sp/>table.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($chado_table)<sp/>{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>$schema<sp/>=<sp/><ref refid="d4/d51/group__tripal__chado__schema__api_1ga4b5ac309e4f88af0e2454099336ac1d8" kindref="member">chado_get_schema</ref>($chado_table);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!$schema)<sp/>{</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d9/dae/group__tripal__notify__api_1ga8c4c41c79200e1d3c8145386f12eaa4e" kindref="member">tripal_set_message</ref>(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>associate<sp/>the<sp/>term<sp/>with<sp/>the<sp/>field<sp/>because<sp/>the<sp/>$chado_table<sp/>is<sp/>not<sp/>a<sp/>known<sp/>table<sp/>in<sp/>Chado.&quot;</highlight><highlight class="normal">,<sp/><ref refid="dd/d45/tripal_8notice_8api_8inc_1a4b04c4b1ce52da710d57abf5c4b09dd3" kindref="member">TRIPAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!array_key_exists($chado_column,<sp/>$schema[</highlight><highlight class="stringliteral">&apos;fields&apos;</highlight><highlight class="normal">]))<sp/>{</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d9/dae/group__tripal__notify__api_1ga8c4c41c79200e1d3c8145386f12eaa4e" kindref="member">tripal_set_message</ref>(</highlight><highlight class="stringliteral">&quot;Cannot<sp/>associate<sp/>the<sp/>term<sp/>with<sp/>the<sp/>field<sp/>because<sp/>the<sp/>$chado_column<sp/>is<sp/>not<sp/>a<sp/>known<sp/>column<sp/>in<sp/>the<sp/>$chado_table.&quot;</highlight><highlight class="normal">,<sp/><ref refid="dd/d45/tripal_8notice_8api_8inc_1a4b04c4b1ce52da710d57abf5c4b09dd3" kindref="member">TRIPAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>First<sp/>check<sp/>to<sp/>see<sp/>if<sp/>a<sp/>valid<sp/>record<sp/>exists<sp/>that<sp/>matches<sp/>the<sp/>table<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>column<sp/>indicated.<sp/>If<sp/>it<sp/>doesn&apos;t<sp/>then<sp/>insert<sp/>the<sp/>record.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/>$query<sp/>=<sp/>db_select(</highlight><highlight class="stringliteral">&apos;chado_semweb&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;CS&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;fields(</highlight><highlight class="stringliteral">&apos;CS&apos;</highlight><highlight class="normal">,<sp/>array(</highlight><highlight class="stringliteral">&apos;chado_semweb_id&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;condition(</highlight><highlight class="stringliteral">&apos;chado_column&apos;</highlight><highlight class="normal">,<sp/>$chado_column);</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($chado_table)<sp/>{</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>$query-&gt;condition(</highlight><highlight class="stringliteral">&apos;chado_table&apos;</highlight><highlight class="normal">,<sp/>$chado_table);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/>$query-&gt;range(0,1);</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/>$id<sp/>=<sp/>$query-&gt;execute()-&gt;fetchField();</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!$id)<sp/>{</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>no<sp/>$chado_table<sp/>record<sp/>is<sp/>provided<sp/>then<sp/>return<sp/>FALSE<sp/>as<sp/>we<sp/>can&apos;t</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>insert<sp/>a<sp/>record<sp/>without<sp/>a<sp/>table.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!$chado_table)<sp/>{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d9/dae/group__tripal__notify__api_1ga8c4c41c79200e1d3c8145386f12eaa4e" kindref="member">tripal_set_message</ref>(</highlight><highlight class="stringliteral">&apos;The<sp/>provided<sp/>$chado_column<sp/>has<sp/>no<sp/>match<sp/>for<sp/>any</highlight></codeline>
<codeline lineno="137"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>table<sp/>currently<sp/>known.<sp/>This<sp/>could<sp/>be<sp/>because<sp/>the<sp/>table<sp/>has<sp/>not<sp/>yet</highlight></codeline>
<codeline lineno="138"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>been<sp/>added<sp/>to<sp/>the<sp/>semantic<sp/>web<sp/>management.<sp/>Please<sp/>provide<sp/>the</highlight></codeline>
<codeline lineno="139"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$chado_table.&apos;</highlight><highlight class="normal">,<sp/><ref refid="dd/d45/tripal_8notice_8api_8inc_1a4b04c4b1ce52da710d57abf5c4b09dd3" kindref="member">TRIPAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Insert<sp/>the<sp/>record.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>$id<sp/>=<sp/>db_insert(</highlight><highlight class="stringliteral">&apos;chado_semweb&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;fields(array(</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;chado_table&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>$chado_table,</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;chado_column&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>$chado_column,</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;cvterm_id&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>$term-&gt;cvterm_id,</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>));</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($id)<sp/>{</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="d9/dae/group__tripal__notify__api_1ga8c4c41c79200e1d3c8145386f12eaa4e" kindref="member">tripal_set_message</ref>(</highlight><highlight class="stringliteral">&apos;Failure<sp/>associating<sp/>term.&apos;</highlight><highlight class="normal">,<sp/><ref refid="dd/d45/tripal_8notice_8api_8inc_1a4b04c4b1ce52da710d57abf5c4b09dd3" kindref="member">TRIPAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>the<sp/>$chado_table<sp/>argument<sp/>is<sp/>empty<sp/>or<sp/>NULL<sp/>then<sp/>the<sp/>term<sp/>applies<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>all<sp/>fields<sp/>of<sp/>the<sp/>specified<sp/>name.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/>$update<sp/>=<sp/>db_update(</highlight><highlight class="stringliteral">&apos;chado_semweb&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/>-&gt;fields(array(</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;cvterm_id&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>$term-&gt;cvterm_id</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/>))</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/>-&gt;condition(</highlight><highlight class="stringliteral">&apos;chado_column&apos;</highlight><highlight class="normal">,<sp/>$chado_column);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($chado_table)<sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>$update-&gt;condition(</highlight><highlight class="stringliteral">&apos;chado_table&apos;</highlight><highlight class="normal">,<sp/>$chado_table);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!$update)<sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>$update-&gt;condition(</highlight><highlight class="stringliteral">&apos;cvterm_id&apos;</highlight><highlight class="normal">,<sp/>NULL);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/>$num_updated<sp/>=<sp/>$update-&gt;execute();</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!$num_updated)<sp/>{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d9/dae/group__tripal__notify__api_1ga8c4c41c79200e1d3c8145386f12eaa4e" kindref="member">tripal_set_message</ref>(</highlight><highlight class="stringliteral">&apos;Failure<sp/>associating<sp/>term.&apos;</highlight><highlight class="normal">,<sp/><ref refid="dd/d45/tripal_8notice_8api_8inc_1a4b04c4b1ce52da710d57abf5c4b09dd3" kindref="member">TRIPAL_ERROR</ref>);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>TRUE;</highlight></codeline>
<codeline lineno="179"><highlight class="normal">}</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="200" refid="dd/dc9/group__tripal__chado__semweb__api_1gae4d00bef6ae53acb91c2c021eef279a9" refkind="member"><highlight class="keyword">function</highlight><highlight class="normal"><sp/><ref refid="dd/dc9/group__tripal__chado__semweb__api_1gae4d00bef6ae53acb91c2c021eef279a9" kindref="member">chado_get_semweb_term</ref>($chado_table,<sp/>$chado_column,<sp/><ref refid="d5/d66/tripal__organism__properties_8tpl_8php_1a011800c63ece4cbbfa77136a20607023" kindref="member">$options</ref><sp/>=<sp/>array())<sp/>{</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/>$cvterm_id<sp/>=<sp/>db_select(</highlight><highlight class="stringliteral">&apos;chado_semweb&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;CS&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;fields(</highlight><highlight class="stringliteral">&apos;CS&apos;</highlight><highlight class="normal">,<sp/>array(</highlight><highlight class="stringliteral">&apos;cvterm_id&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;condition(</highlight><highlight class="stringliteral">&apos;chado_column&apos;</highlight><highlight class="normal">,<sp/>$chado_column)</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;condition(</highlight><highlight class="stringliteral">&apos;chado_table&apos;</highlight><highlight class="normal">,<sp/>$chado_table)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;execute()</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;fetchField();</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($cvterm_id)<sp/>{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>$cvterm<sp/>=<sp/><ref refid="dd/d88/group__tripal__chado__variables__api_1ga6d6af1f6e23e5bbfae0d7867ce09af5a" kindref="member">chado_generate_var</ref>(</highlight><highlight class="stringliteral">&apos;cvterm&apos;</highlight><highlight class="normal">,<sp/>array(</highlight><highlight class="stringliteral">&apos;cvterm_id&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>$cvterm_id));</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(array_key_exists(</highlight><highlight class="stringliteral">&apos;return_object&apos;</highlight><highlight class="normal">,<sp/><ref refid="d5/d66/tripal__organism__properties_8tpl_8php_1a011800c63ece4cbbfa77136a20607023" kindref="member">$options</ref>))<sp/>{</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>$cvterm;</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="dd/dc9/group__tripal__chado__semweb__api_1gab89580d008861a41f7d92d7f8b29b59d" kindref="member">chado_format_semweb_term</ref>($cvterm);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="216"><highlight class="normal">}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="228" refid="dd/dc9/group__tripal__chado__semweb__api_1gab89580d008861a41f7d92d7f8b29b59d" refkind="member"><highlight class="keyword">function</highlight><highlight class="normal"><sp/><ref refid="dd/dc9/group__tripal__chado__semweb__api_1gab89580d008861a41f7d92d7f8b29b59d" kindref="member">chado_format_semweb_term</ref>($cvterm)<sp/>{</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($cvterm)<sp/>{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>$cvterm-&gt;dbxref_id-&gt;db_id-&gt;name<sp/>.<sp/></highlight><highlight class="charliteral">&apos;:&apos;</highlight><highlight class="normal"><sp/>.<sp/>$cvterm-&gt;dbxref_id-&gt;accession;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="233"><highlight class="normal">}</highlight></codeline>
<codeline lineno="249" refid="dd/dc9/group__tripal__chado__semweb__api_1ga246f04672ee7b1ec746971395c83a963" refkind="member"><highlight class="keyword">function</highlight><highlight class="normal"><sp/><ref refid="dd/dc9/group__tripal__chado__semweb__api_1ga246f04672ee7b1ec746971395c83a963" kindref="member">chado_get_semweb_column</ref>($chado_table,<sp/>$term)<sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><ref refid="dd/d72/tripal__library__features_8tpl_8php_1a19d2a3d21fe02053311fde465e6ae2e9" kindref="member">$columns</ref><sp/>=<sp/>db_select(</highlight><highlight class="stringliteral">&apos;chado_semweb&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;CS&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;fields(</highlight><highlight class="stringliteral">&apos;CS&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;condition(</highlight><highlight class="stringliteral">&apos;chado_table&apos;</highlight><highlight class="normal">,<sp/>$chado_table)</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>-&gt;execute();</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">($column<sp/>=<sp/><ref refid="dd/d72/tripal__library__features_8tpl_8php_1a19d2a3d21fe02053311fde465e6ae2e9" kindref="member">$columns</ref>-&gt;fetchObject())<sp/>{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>$cvterm_id<sp/>=<sp/>$column-&gt;cvterm_id;</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($cvterm_id)<sp/>{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$cvterm<sp/>=<sp/><ref refid="dd/d88/group__tripal__chado__variables__api_1ga6d6af1f6e23e5bbfae0d7867ce09af5a" kindref="member">chado_generate_var</ref>(</highlight><highlight class="stringliteral">&apos;cvterm&apos;</highlight><highlight class="normal">,<sp/>array(</highlight><highlight class="stringliteral">&apos;cvterm_id&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>$cvterm_id));</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$full_accession<sp/>=<sp/>strtolower($cvterm-&gt;dbxref_id-&gt;db_id-&gt;name<sp/>.<sp/></highlight><highlight class="charliteral">&apos;:&apos;</highlight><highlight class="normal"><sp/>.<sp/>$cvterm-&gt;dbxref_id-&gt;accession);</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$full_accession<sp/>=<sp/>preg_replace(</highlight><highlight class="stringliteral">&apos;/<sp/>/&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="charliteral">&apos;_&apos;</highlight><highlight class="normal">,<sp/>$full_accession);</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$full_name_uscore<sp/>=<sp/>strtolower($cvterm-&gt;dbxref_id-&gt;db_id-&gt;name<sp/>.<sp/></highlight><highlight class="stringliteral">&apos;__&apos;</highlight><highlight class="normal"><sp/>.<sp/>$cvterm-&gt;name);</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$full_name_uscore<sp/>=<sp/>preg_replace(</highlight><highlight class="stringliteral">&apos;/<sp/>/&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="charliteral">&apos;_&apos;</highlight><highlight class="normal">,<sp/>$full_name_uscore);</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$term<sp/>=<sp/>preg_replace(</highlight><highlight class="stringliteral">&apos;/<sp/>/&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="charliteral">&apos;_&apos;</highlight><highlight class="normal">,<sp/>$term);</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$term<sp/>=<sp/>strtolower(preg_replace(</highlight><highlight class="stringliteral">&apos;/<sp/>/&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="charliteral">&apos;_&apos;</highlight><highlight class="normal">,<sp/>$term));</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Does<sp/>the<sp/>term<sp/>match<sp/>identically?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($term<sp/>==<sp/>$cvterm-&gt;name)<sp/>{</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>$column-&gt;chado_column;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Is<sp/>the<sp/>term<sp/>a<sp/>concatenation<sp/>of<sp/>the<sp/>vocab<sp/>and<sp/>the<sp/>accession?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($term<sp/>==<sp/>$full_accession)<sp/>{</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>$column-&gt;chado_column;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Is<sp/>the<sp/>term<sp/>a<sp/>concatenation<sp/>of<sp/>the<sp/>vocab<sp/>and<sp/>the<sp/>accession?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($term<sp/>==<sp/>$full_name_uscore)<sp/>{</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>$column-&gt;chado_column;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>FALSE;</highlight></codeline>
<codeline lineno="285"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="tripal_chado/api/tripal_chado.semweb.api.inc"/>
  </compounddef>
</doxygen>

<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.15">
  <compounddef id="d9/d46/tripal__stock_8module" kind="file" language="C++">
    <compoundname>tripal_stock.module</compoundname>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline><highlight class="normal">&lt;?php</highlight></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@file</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Basic<sp/>functionality<sp/>for<sp/>stocks</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@defgroup<sp/>tripal_legacy_stock<sp/>Legacy<sp/>Stock<sp/>Module</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@ingroup<sp/>tripal_legacy_modules</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@{</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Integrates<sp/>the<sp/>Chado<sp/>Stock<sp/>module<sp/>with<sp/>Drupal<sp/>Nodes<sp/>&amp;<sp/>Views</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>The<sp/>Tripal<sp/>Stock<sp/>Module<sp/>provides<sp/>functionality<sp/>for<sp/>adding,<sp/>editing,<sp/>deleting<sp/>and<sp/>accessing<sp/>chado</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>stocks.<sp/>The<sp/>stock<sp/>module<sp/>was<sp/>designed<sp/>to<sp/>store<sp/>information<sp/>about<sp/>stock<sp/>collections<sp/>in<sp/>a</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>laboratory.<sp/>What<sp/>is<sp/>called<sp/>a<sp/>stock<sp/>could<sp/>also<sp/>be<sp/>called<sp/>a<sp/>strain<sp/>or<sp/>an<sp/>accession.<sp/>There<sp/>is<sp/>a<sp/>lot</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>in<sp/>common<sp/>between<sp/>a<sp/>Drosophila<sp/>stock<sp/>and<sp/>a<sp/>Saccharomyces<sp/>strain<sp/>and<sp/>an<sp/>Arabidopsis<sp/>line.<sp/>They<sp/>all</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>come<sp/>from<sp/>some<sp/>taxon,<sp/>have<sp/>genotypes,<sp/>physical<sp/>locations<sp/>in<sp/>the<sp/>lab,<sp/>some<sp/>conceivable</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>relationship<sp/>with<sp/>a<sp/>publication,<sp/>some<sp/>conceivable<sp/>relationship<sp/>with<sp/>a<sp/>sequence<sp/>feature<sp/>(such<sp/>as<sp/>a</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>transgene),<sp/>and<sp/>could<sp/>be<sp/>described<sp/>by<sp/>some<sp/>ontology<sp/>term.<sp/>For<sp/>more<sp/>information<sp/>about<sp/>the<sp/>chado</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Stock<sp/>Module<sp/>see<sp/>the<sp/>GMOD<sp/>Wiki<sp/>Page<sp/>(http://gmod.org/wiki/Chado_Stock_Module)</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@}</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">require_once<sp/>&apos;api/tripal_stock.DEPRECATED.inc&apos;;</highlight></codeline>
<codeline><highlight class="normal">require_once<sp/>&apos;theme/tripal_stock.theme.inc&apos;;</highlight></codeline>
<codeline><highlight class="normal">require_once<sp/>&apos;includes/tripal_stock.admin.inc&apos;;</highlight></codeline>
<codeline><highlight class="normal">require_once<sp/>&apos;includes/tripal_stock.chado_node.inc&apos;;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Implements<sp/>hook_menu().</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Adds<sp/>menu<sp/>items<sp/>for<sp/>the<sp/>tripal_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@return</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/><sp/>Menu<sp/>definitions<sp/>for<sp/>the<sp/>tripal_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@ingroup<sp/>tripal_legacy_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">function<sp/>tripal_stock_menu()<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$items<sp/>=<sp/>array();</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>the<sp/>menu<sp/>link<sp/>for<sp/>addressing<sp/>any<sp/>stock<sp/>(by<sp/>name,<sp/>uniquename,<sp/>synonym)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$items[&apos;stock/%&apos;]<sp/>=<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>callback&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_match_stocks_page&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>arguments&apos;<sp/>=&gt;<sp/>array(1),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;access<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;access<sp/>chado_stock<sp/>content&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;type&apos;<sp/>=&gt;<sp/>MENU_LOCAL_TASK,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>//Administrative<sp/>settings<sp/>menu-----------------</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>$items[&apos;admin/tripal/legacy/tripal_stock&apos;]<sp/>=<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;title&apos;<sp/>=&gt;<sp/>&apos;Stocks&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>&apos;A<sp/>stock<sp/>is<sp/>the<sp/>physical<sp/>entities<sp/>of<sp/>an<sp/>organism,<sp/>either<sp/>living<sp/>or<sp/>preserved.&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>callback&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_admin_stock_view&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;access<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;administer<sp/>tripal<sp/>stock&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;type&apos;<sp/>=&gt;<sp/>MENU_NORMAL_ITEM</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>$items[&apos;admin/tripal/legacy/tripal_stock/configuration&apos;]<sp/>=<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;title&apos;<sp/>=&gt;<sp/>&apos;Settings&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>&apos;Settings<sp/>for<sp/>Chado<sp/>Stocks&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>callback&apos;<sp/>=&gt;<sp/>&apos;drupal_get_form&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;tripal_stock_admin&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;access<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;administer<sp/>tripal<sp/>stock&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;type&apos;<sp/>=&gt;<sp/>MENU_LOCAL_TASK,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;weight&apos;<sp/>=&gt;<sp/>5</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>$items[&apos;admin/tripal/legacy/tripal_stock/sync&apos;]<sp/>=<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;title&apos;<sp/>=&gt;<sp/>&apos;<sp/>Sync&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>&apos;Sync<sp/>stocks<sp/>from<sp/>Chado<sp/>with<sp/>Drupal&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>callback&apos;<sp/>=&gt;<sp/>&apos;drupal_get_form&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//&apos;page<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;tripal_stock_sync_form&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;chado_node_sync_form&apos;,<sp/>&apos;tripal_stock&apos;,<sp/>&apos;chado_stock&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;access<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;administer<sp/>tripal<sp/>stock&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;type&apos;<sp/>=&gt;<sp/>MENU_LOCAL_TASK,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;weight&apos;<sp/>=&gt;<sp/>0</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>$items[&apos;admin/tripal/legacy/tripal_stock/chado_stock_toc&apos;]<sp/>=<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;title&apos;<sp/>=&gt;<sp/>&apos;<sp/>TOC&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>&apos;Manage<sp/>the<sp/>table<sp/>of<sp/>contents<sp/>for<sp/>stock<sp/>nodes.&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>callback&apos;<sp/>=&gt;<sp/>&apos;drupal_get_form&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;tripal_core_content_type_toc_form&apos;,<sp/>&apos;chado_stock&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;access<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;administer<sp/>tripal<sp/>stock&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;type&apos;<sp/>=&gt;<sp/>MENU_LOCAL_TASK,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;file&apos;<sp/>=&gt;<sp/><sp/>&apos;includes/tripal_core.toc.inc&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;file<sp/>path&apos;<sp/>=&gt;<sp/>drupal_get_path(&apos;module&apos;,<sp/>&apos;tripal_core&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;weight&apos;<sp/>=&gt;<sp/>3</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>$items[&apos;admin/tripal/legacy/tripal_stock/help&apos;]<sp/>=<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;title&apos;<sp/>=&gt;<sp/>&apos;Help&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>&apos;Basic<sp/>Description<sp/>of<sp/>Tripal<sp/>Stock<sp/>Module<sp/>Functionality&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>callback&apos;<sp/>=&gt;<sp/>&apos;theme&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;page<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;tripal_stock_help&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;access<sp/>arguments&apos;<sp/>=&gt;<sp/>array(&apos;administer<sp/>tripal<sp/>stock&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;type&apos;<sp/>=&gt;<sp/>MENU_LOCAL_TASK,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;weight&apos;<sp/>=&gt;<sp/>10</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>return<sp/>$items;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Implements<sp/>hook_search_biological_data_views().</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Adds<sp/>the<sp/>described<sp/>views<sp/>to<sp/>the<sp/>&quot;Search<sp/>Data&quot;<sp/>Page<sp/>created<sp/>by<sp/>Tripal<sp/>Views</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">function<sp/>tripal_stock_search_biological_data_views()<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>return<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_user_stocks&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;machine_name&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_user_stocks&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;human_name&apos;<sp/>=&gt;<sp/>&apos;Stocks&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>&apos;A<sp/>stock<sp/>is<sp/>the<sp/>physical<sp/>entities<sp/>of<sp/>an<sp/>organism,<sp/>either<sp/>living<sp/>or<sp/>preserved.&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;link&apos;<sp/>=&gt;<sp/>&apos;chado/stock&apos;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Implements<sp/>Menu<sp/>wildcard_load<sp/>hook</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Allows<sp/>the<sp/>node<sp/>ID<sp/>of<sp/>a<sp/>chado<sp/>stock<sp/>to<sp/>be<sp/>dynamically</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/><sp/>pulled<sp/>from<sp/>the<sp/>path.<sp/>The<sp/>node<sp/>is<sp/>loaded<sp/>from<sp/>this<sp/>node<sp/>ID</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/><sp/>and<sp/>supplied<sp/>to<sp/>the<sp/>page<sp/>as<sp/>an<sp/>arguement.<sp/>This<sp/>is<sp/>an<sp/>example</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/><sp/>of<sp/>dynamic<sp/>argument<sp/>replacement<sp/>using<sp/>wildcards<sp/>in<sp/>the<sp/>path.</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@param<sp/>$nid</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/><sp/>The<sp/>node<sp/>ID<sp/>passed<sp/>in<sp/>from<sp/>the<sp/>path</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@return</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/><sp/>The<sp/>node<sp/>object<sp/>with<sp/>the<sp/>passed<sp/>in<sp/>nid</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@ingroup<sp/>tripal_legacy_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">function<sp/>cs_node_load($nid)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>if<sp/>(is_numeric($nid))<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$node<sp/>=<sp/>node_load($nid);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>($node-&gt;type<sp/>==<sp/>&apos;chado_stock&apos;)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>return<sp/>$node;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>return<sp/>FALSE;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Implements<sp/>hook_permission().</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Set<sp/>the<sp/>permission<sp/>types<sp/>that<sp/>the<sp/>chado<sp/>stock<sp/>module<sp/>uses</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@return</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/><sp/>Listing<sp/>of<sp/>the<sp/>possible<sp/>permission<sp/>catagories</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@ingroup<sp/>tripal_legacy_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">function<sp/>tripal_stock_permission()<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>return<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>/*</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;access<sp/>chado_stock<sp/>content&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;title&apos;<sp/>=&gt;<sp/>t(&apos;View<sp/>Stocks&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>t(&apos;Allow<sp/>users<sp/>to<sp/>view<sp/>stock<sp/>pages.&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;create<sp/>chado_stock<sp/>content&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;title&apos;<sp/>=&gt;<sp/>t(&apos;Create<sp/>Stocks&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>t(&apos;Allow<sp/>users<sp/>to<sp/>create<sp/>new<sp/>stock<sp/>pages.&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;delete<sp/>chado_stock<sp/>content&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;title&apos;<sp/>=&gt;<sp/>t(&apos;Delete<sp/>Stocks&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>t(&apos;Allow<sp/>users<sp/>to<sp/>delete<sp/>stock<sp/>pages.&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;edit<sp/>chado_stock<sp/>content&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;title&apos;<sp/>=&gt;<sp/>t(&apos;Edit<sp/>Stocks&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>t(&apos;Allow<sp/>users<sp/>to<sp/>edit<sp/>stock<sp/>pages.&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;administer<sp/>tripal<sp/>stock&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;title&apos;<sp/>=&gt;<sp/>t(&apos;Administer<sp/>Stocks&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;description&apos;<sp/>=&gt;<sp/>t(&apos;Allow<sp/>users<sp/>to<sp/>administer<sp/>all<sp/>stocks.&apos;),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>*/</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Implements<sp/>hook_views_api().</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Purpose:<sp/>Essentially<sp/>this<sp/>hook<sp/>tells<sp/>drupal<sp/>that<sp/>there<sp/>is<sp/>views<sp/>support<sp/>for</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/>for<sp/>this<sp/>module<sp/>which<sp/>then<sp/>includes<sp/>tripal_stock.views.inc<sp/>where<sp/>all<sp/>the</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/>views<sp/>integration<sp/>code<sp/>is</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@return</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/><sp/>An<sp/>array<sp/>with<sp/>fields<sp/>important<sp/>for<sp/>views<sp/>integration</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@ingroup<sp/>tripal_legacy_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">function<sp/>tripal_stock_views_api()<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>return<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;api&apos;<sp/>=&gt;<sp/>3.0,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Implements<sp/>hook_theme().</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Register<sp/>themeing<sp/>functions<sp/>for<sp/>this<sp/>module</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@return</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/><sp/>An<sp/>array<sp/>of<sp/>themeing<sp/>functions<sp/>to<sp/>register</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@ingroup<sp/>tripal_legacy_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">function<sp/>tripal_stock_theme($existing,<sp/>$type,<sp/>$theme,<sp/>$path)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$core_path<sp/>=<sp/>drupal_get_path(&apos;module&apos;,<sp/>&apos;tripal_core&apos;);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>$items<sp/>=<sp/>array(</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/>tripal_stock<sp/>templates</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;node__chado_stock&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;node--chado-generic&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;render<sp/>element&apos;<sp/>=&gt;<sp/>&apos;node&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;base<sp/>hook&apos;<sp/>=&gt;<sp/>&apos;node&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$core_path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_base&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_base&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_properties&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_properties&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_publications&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_publications&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_references&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_references&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_relationships&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_relationships&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_synonyms&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_synonyms&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_collections&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_collections&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_collections&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_collections&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_phenotypes&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_phenotypes&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_locations&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_locations&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/>tripal_organism<sp/>templates</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_organism_stocks&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_organism_stocks&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/>help<sp/>template</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_help&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_help&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/><sp/>array(NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/>themed<sp/>teaser</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;tripal_stock_teaser&apos;<sp/>=&gt;<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;variables&apos;<sp/>=&gt;<sp/>array(&apos;node&apos;<sp/>=&gt;<sp/>NULL),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;template&apos;<sp/>=&gt;<sp/>&apos;tripal_stock_teaser&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&apos;path&apos;<sp/>=&gt;<sp/>&quot;$path/theme/templates&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>),</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>return<sp/>$items;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Implements<sp/>hook_help().</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Adds<sp/>a<sp/>help<sp/>page<sp/>to<sp/>the<sp/>module<sp/>list</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@ingroup<sp/>tripal_legacy_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">function<sp/>tripal_stock_help<sp/>($path,<sp/>$arg)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>if<sp/>($path<sp/>==<sp/>&apos;admin/help#tripal_stock&apos;)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>theme(&apos;tripal_stock_help&apos;,<sp/>array());</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal">/*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Uses<sp/>the<sp/>value<sp/>provided<sp/>in<sp/>the<sp/>$id<sp/>argument<sp/>to<sp/>find<sp/>all<sp/>stocks<sp/>that<sp/>match</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>that<sp/>ID<sp/>by<sp/>name,<sp/>stockname<sp/>or<sp/>synonym.<sp/><sp/>If<sp/>it<sp/>matches<sp/>uniquenly<sp/>to<sp/>a<sp/>single</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>stock<sp/>it<sp/>will<sp/>redirect<sp/>to<sp/>that<sp/>stock<sp/>page,<sp/>otherwise,<sp/>a<sp/>list<sp/>of<sp/>matching</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>stocks<sp/>is<sp/>shown.</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@ingroup<sp/>tripal_legacy_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">function<sp/>tripal_stock_match_stocks_page($id)<sp/>{</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>if<sp/>the<sp/>URL<sp/>alias<sp/>configuration<sp/>is<sp/>set<sp/>such<sp/>that<sp/>the<sp/>URL</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>always<sp/>begins<sp/>with<sp/>&apos;stock&apos;<sp/>then<sp/>we<sp/>want<sp/>to<sp/>use<sp/>the<sp/>ID<sp/>as<sp/>it<sp/>is<sp/>and</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>forward<sp/>it<sp/>on.<sp/>Otherwise,<sp/>try<sp/>to<sp/>find<sp/>the<sp/>matching<sp/>stock.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$url_alias<sp/>=<sp/>variable_get(&apos;chado_stock_url_string&apos;,<sp/>&apos;/stock/[genus]/[species]/[type]/[uniquename]&apos;);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>if<sp/>(!$url_alias)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$url_alias<sp/>=<sp/>&apos;/stock/[genus]/[species]/[type]/[uniquename]&apos;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$url_alias<sp/>=<sp/>preg_replace(&apos;/^\//&apos;,<sp/>&apos;&apos;,<sp/>$url_alias);<sp/>//<sp/>remove<sp/>any<sp/>preceeding<sp/>forward<sp/>slash</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>if<sp/>(preg_match(&apos;/^stock\//&apos;,<sp/>$url_alias))<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>drupal_goto($id);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>$sql<sp/>=<sp/>&quot;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>SELECT</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>S.name,<sp/>S.uniquename,<sp/>S.stock_id,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>O.genus,<sp/>O.species,<sp/>O.organism_id,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>CVT.cvterm_id,<sp/>CVT.name<sp/>as<sp/>type_name,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>CS.nid</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>FROM<sp/>{stock}<sp/>S</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>INNER<sp/>JOIN<sp/>{organism}<sp/>O<sp/>on<sp/>S.organism_id<sp/>=<sp/>O.organism_id</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>INNER<sp/>JOIN<sp/>{cvterm}<sp/>CVT<sp/>on<sp/>CVT.cvterm_id<sp/>=<sp/>S.type_id</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>INNER<sp/>JOIN<sp/>[chado_stock]<sp/>CS<sp/>on<sp/>CS.stock_id<sp/>=<sp/>S.stock_id</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>WHERE</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>S.uniquename<sp/>=<sp/>:uname<sp/>or<sp/>S.name<sp/>=<sp/>:name</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&quot;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$results<sp/>=<sp/>chado_query($sql,<sp/>array(&apos;:uname&apos;<sp/>=&gt;<sp/>$id,<sp/>&apos;:name&apos;<sp/>=&gt;<sp/>$id));</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>$num_matches<sp/>=<sp/>0;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>iterate<sp/>through<sp/>the<sp/>matches<sp/>and<sp/>build<sp/>the<sp/>table<sp/>for<sp/>showing<sp/>matches</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$header<sp/>=<sp/>array(&apos;Uniquename&apos;,<sp/>&apos;Name&apos;,<sp/>&apos;Type&apos;,<sp/>&apos;Species&apos;);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$rows<sp/>=<sp/>array();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$curr_match;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>while<sp/>($match<sp/>=<sp/>$results-&gt;fetchObject())<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$curr_match<sp/>=<sp/>$match;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$rows[]<sp/>=<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$match-&gt;uniquename,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&lt;a<sp/>href=\&quot;&quot;<sp/>.<sp/>url(&quot;node/&quot;.<sp/>$match-&gt;nid)<sp/>.&quot;\&quot;&gt;&quot;<sp/>.<sp/>$match-&gt;name<sp/>.<sp/>&quot;&lt;/a&gt;&quot;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$match-&gt;type_name,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&lt;i&gt;&apos;<sp/>.<sp/>$match-&gt;genus<sp/>.<sp/>&apos;<sp/>&apos;<sp/>.<sp/>$match-&gt;species<sp/>.<sp/>&apos;&lt;/i&gt;&apos;,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$num_matches++;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>if<sp/>we<sp/>have<sp/>more<sp/>than<sp/>one<sp/>match<sp/>then<sp/>generate<sp/>the<sp/>table,<sp/>otherwise,<sp/>redirect</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>to<sp/>the<sp/>matched<sp/>stock</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>if<sp/>($num_matches<sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>drupal_goto(&quot;node/&quot;<sp/>.<sp/>$curr_match-&gt;nid);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>if<sp/>($num_matches<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>return<sp/>&quot;&lt;p&gt;No<sp/>stocks<sp/>matched<sp/>the<sp/>given<sp/>name<sp/>&apos;$id&apos;&lt;/p&gt;&quot;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>$table_attrs<sp/>=<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;class&apos;<sp/>=&gt;<sp/>&apos;tripal-table<sp/>tripal-table-horz&apos;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$output<sp/>=<sp/>&quot;&lt;p&gt;The<sp/>following<sp/>stocks<sp/>match<sp/>the<sp/>name<sp/>&apos;$id&apos;.&lt;/p&gt;&quot;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$output<sp/>.=<sp/>theme_table($header,<sp/>$rows,<sp/>$table_attrs,<sp/>$caption);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>return<sp/>$output;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Implementation<sp/>of<sp/>hook_form_alter().</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@param<sp/>$form</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@param<sp/>$form_state</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@param<sp/>$form_id</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@ingroup<sp/>tripal_legacy_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">function<sp/>tripal_stock_form_alter(&amp;$form,<sp/>&amp;$form_state,<sp/>$form_id)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>turn<sp/>of<sp/>preview<sp/>button<sp/>for<sp/>insert/updates</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>if<sp/>($form_id<sp/>==<sp/>&quot;chado_stock_node_form&quot;)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$form[&apos;actions&apos;][&apos;preview&apos;][&apos;#access&apos;]<sp/>=<sp/>FALSE;</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//remove<sp/>the<sp/>body<sp/>field</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>unset($form[&apos;body&apos;]);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal">/**</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>Load<sp/>the<sp/>arguments<sp/>for<sp/>the<sp/>organism<sp/>stock<sp/>counts<sp/>browser</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@param<sp/>$organism</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/><sp/>The<sp/>organism<sp/>of<sp/>interest</highlight></codeline>
<codeline><highlight class="normal"><sp/>*</highlight></codeline>
<codeline><highlight class="normal"><sp/>*<sp/>@ingroup<sp/>tripal_legacy_stock</highlight></codeline>
<codeline><highlight class="normal"><sp/>*/</highlight></codeline>
<codeline><highlight class="normal">function<sp/>tripal_stock_load_organism_stock_counts($organism)<sp/>{</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>$args<sp/>=<sp/>array();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$order<sp/>=<sp/>array();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$names<sp/>=<sp/>array();</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>build<sp/>the<sp/>where<sp/>clause<sp/>for<sp/>the<sp/>SQL<sp/>statement<sp/>if<sp/>we<sp/>have<sp/>a<sp/>custom<sp/>term<sp/>list</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>we&apos;ll<sp/>also<sp/>keep<sp/>track<sp/>of<sp/>the<sp/>names<sp/>the<sp/>admin<sp/>provided<sp/>(if<sp/>any)<sp/>and<sp/>the</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>order<sp/>that<sp/>the<sp/>terms<sp/>should<sp/>appear.</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$is_custom<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$temp<sp/>=<sp/>rtrim(variable_get(&apos;tripal_stock_summary_report_mapping&apos;,<sp/>&apos;&apos;));</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$where<sp/>=<sp/>&apos;&apos;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>if<sp/>($temp)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$is_custom<sp/>=<sp/>1;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$temp<sp/>=<sp/>explode(&quot;\n&quot;,<sp/>$temp);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$i<sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>foreach<sp/>($temp<sp/>as<sp/>$value)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>separate<sp/>the<sp/>key<sp/>value<sp/>pairs</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$temp2<sp/>=<sp/>explode(&quot;=&quot;,<sp/>$value);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$stock_type<sp/>=<sp/>rtrim($temp2[0]);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$order[]<sp/>=<sp/>$stock_type;<sp/><sp/>//<sp/>save<sp/>the<sp/>order<sp/>of<sp/>the<sp/>these<sp/>terms</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$where<sp/>.=<sp/>&quot;<sp/>OFC.stock_type<sp/>=<sp/>:name$i<sp/>OR<sp/>&quot;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$args[&quot;:name$i&quot;]<sp/>=<sp/>rtrim($temp2[0]);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>if<sp/>the<sp/>admin<sp/>specified<sp/>a<sp/>new<sp/>name<sp/>then<sp/>store<sp/>that<sp/>otherwise<sp/>use<sp/>the</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>//<sp/>the<sp/>default<sp/>sequence<sp/>ontology<sp/>term<sp/>name</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>if(count($temp2)<sp/>==<sp/>2)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$names[]<sp/>=<sp/>rtrim($temp2[1]);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>else<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$names[]<sp/>=<sp/>$stock_type;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$i++;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>($where)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$where<sp/>=<sp/>drupal_substr($where,<sp/>0,<sp/>-4);<sp/><sp/>#<sp/>remove<sp/>OR<sp/>from<sp/>the<sp/>end</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$where<sp/>=<sp/>&quot;($where)<sp/>AND&quot;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>get<sp/>the<sp/>stock<sp/>counts.<sp/><sp/>This<sp/>is<sp/>dependent<sp/>on<sp/>a<sp/>materialized<sp/>view</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>installed<sp/>with<sp/>the<sp/>organism<sp/>module</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$sql<sp/>=<sp/>&quot;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>SELECT<sp/>OFC.num_stocks,OFC.stock_type,CVT.definition</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>FROM<sp/>{organism_stock_count}<sp/>OFC</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>INNER<sp/>JOIN<sp/>{cvterm}<sp/>CVT<sp/>on<sp/>OFC.cvterm_id<sp/>=<sp/>CVT.cvterm_id</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>WHERE<sp/>$where<sp/>organism_id<sp/>=<sp/>:organism_id</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>ORDER<sp/>BY<sp/>num_stocks<sp/>desc</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>&quot;;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$args[&apos;:organism_id&apos;]<sp/>=<sp/>$organism-&gt;organism_id;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$org_stocks<sp/>=<sp/>chado_query($sql,<sp/>$args);</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>iterate<sp/>through<sp/>the<sp/>types</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$types<sp/>=<sp/>array();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>while<sp/>($type<sp/>=<sp/>$org_stocks-&gt;fetchObject())<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$types[$type-&gt;stock_type]<sp/>=<sp/>$type;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/>if<sp/>we<sp/>don&apos;t<sp/>have<sp/>an<sp/>order<sp/>this<sp/>means<sp/>we<sp/>didn&apos;t<sp/>go<sp/>through<sp/>the<sp/>loop</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>//<sp/>above<sp/>to<sp/>set<sp/>the<sp/>names,<sp/>so<sp/>do<sp/>that<sp/>now</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>if<sp/>(!$is_custom)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$names[]<sp/>=<sp/>$type-&gt;stock_type;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>$order[]<sp/>=<sp/>$type-&gt;stock_type;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline></codeline>
<codeline><highlight class="normal"><sp/><sp/>//<sp/>now<sp/>reorder<sp/>the<sp/>types</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>$ordered_types<sp/>=<sp/>array();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>foreach<sp/>($order<sp/>as<sp/>$type)<sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>$ordered_types[]<sp/>=<sp/>$types[$type];</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>return<sp/>array(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;types&apos;<sp/>=&gt;<sp/>$ordered_types,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>&apos;names&apos;<sp/>=&gt;<sp/>$names</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/>);</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="legacy/tripal_stock/tripal_stock.module"/>
  </compounddef>
</doxygen>
